<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
	  <span height="50" width="50">
		<img alt="Brand" src="static/cpd.png" height="50" width="50"></span>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="#">Home</a></li>
        <li class="active"><a href="#">Statistics</a></li>
      </ul>
    
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
    <!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.0/themes/base/jquery-ui.css">
	<link rel="stylesheet" href="style.css">
  </head>
  <body>
	<form class="col-md-2" id="sidebar" action="/update_date" method="post">
		<div class="form-group">
			<label>Display by</label>
			<select name="display" class="form-control">
			  <option value="1">Crime type</option>
			  <option value="2">Domestic or street</option>
			  <option value="3">Arrest made</option>
			  <option value="4">Region</option>
			</select>
		</div>
		<div class="form-group">
			<label for="dateFrom">Date from</label>
			<input type="text" name="dateFrom" class="form-control datepicker"/>
		</div>
		<div class="form-group">
			<label for="dateTo">Date to</label>
			<input type="text" name="dateTo" class="form-control datepicker"/>
		</div>
		<div id="submitButton">
			<button type="submit" class="btn btn-default">Display</button>
		</div>
	</form>
	<div id="container" class="col-md-10"></div>
	
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
	<script src="http://code.highcharts.com/highcharts.js"></script>
	<script>
		$('document').ready(function () { 
			$.ajax({
				type: 'get',
				url: '/get_primary_type',
				datatype: 'json',
				success: function(data){
					var myChart = Highcharts.chart('container', {
						chart: {
							type: 'bar'
						},
						title: {
							text: 'Crime type'
						},
						xAxis: {
							categories: data['types']
						},
						yAxis: {
						},
						series: [{
							data: data['values']
						}]
					});
				}
			});
		});
		$('button').on('click', function(){
			$.ajax({
				type: 'post',
				url: '/update_date',
				datatype: 'json',
				success: function(data){
					var myChart = Highcharts.chart('container', {
						chart: {
							type: 'bar'
						},
						title: {
							text: 'Crime type'
						},
						xAxis: {
							categories: data['types']
						},
						yAxis: {
						},
						series: [{
							data: data['values']
						}]
					});
				}
			});
		});
	</script>
	<script type="text/javascript">
        $(function () {
            $('.datepicker').datepicker();
        });
    </script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  </body>
</html>